<div class="send-message-card__container">
  <h1 class="send-message-card__title">Send a Message</h1>
  <form [formGroup]="messageForm" (ngSubmit)="sendMessage()" class="send-message-card__form">
    <!-- Country Code Dropdown -->
    <div class="form-control__container">
      <label for="countryCode" class="form-control__label">Country Code</label>
      <select
        id="countryCode"
        class="form-control__select"
        formControlName="countryCode"
      >
        <option value="+1" disabled>ğŸ‡ºğŸ‡¸ USA (+1)</option>
        <option value="+972"  >ğŸ‡®ğŸ‡± Israel (+972)</option>
        <option value="+44" disabled >ğŸ‡¬ğŸ‡§ UK (+44)</option>
        <option value="+91" disabled >ğŸ‡®ğŸ‡³ India (+91)</option>
        <option value="+61" disabled >ğŸ‡¦ğŸ‡º Australia (+61)</option>
      </select>
    </div>

    <div class="form-control__container">
      <label for="phoneNumber" class="form-control__label">Phone Number</label>
      <input
        readonly
        id="phoneNumber"
        type="text"
        class="form-control__input"
        placeholder="Enter phone number"
        formControlName="phoneNumber"
      />
    </div>

    <div class="form-control__container">
      <label for="messageContent" class="form-control__label">Message</label>
      <textarea
        id="messageContent"
        rows="4"
        class="form-control__textarea no-resize"
        placeholder="Enter your message (max 250 characters)"
        formControlName="messageContent"
        (input)="enforceMaxLength()"
        (keydown)="handleEnterKey($event)"
      ></textarea>
      <small class="char-counter">
        {{ remainingChars }} characters remaining
      </small>
    </div>

    <!-- Submit Button -->
    <!-- <div class="form-control__container">
      <button
        type="submit"
        class="form-control__button"
        [disabled]="messageForm.invalid"
      >
        Send
      </button>
    </div> -->
    <div class="form-control__container">
      <button
        type="submit"
        class="form-control__button"
        [disabled]="messageForm.invalid || isSubmitting"
      >
        <span *ngIf="!isSubmitting">Send</span>
        <span *ngIf="isSubmitting">
          <div class="loader"></div>
        </span>
      </button>
    </div>
  </form>
</div>